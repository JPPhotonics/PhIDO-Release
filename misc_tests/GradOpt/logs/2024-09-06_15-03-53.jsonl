{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "69",
    "funcName": "forward",
    "created": "1725627839.1148314",
    "msecs": "114.0",
    "relativeCreated": "14238.90995979309",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:None\nQuery: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nResponse: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n```",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725627839.123295",
    "msecs": "123.0",
    "relativeCreated": "14247.373580932617",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- it should only represent photonic components on the chip, and not off the chip.\n- does it accurately represent the photonic components?\n- is any photonic component missing?\n- this should be only a list of photonic components.\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n```\nResponse: The provided YAML file has several issues:\n\n1. **Off-chip Components Included**: The list includes components that are not strictly on-chip, such as the blazed grating.\n2. **Missing Components**: Some on-chip components mentioned in the article are missing from the list.\n3. **Component Specifications**: The specifications and port configurations are not consistently provided.\n4. **Circuit Completeness**: The circuit completeness is questionable based on the provided information.\n\nHere is a critical evaluation:\n\n- **single_article**: Correctly marked as `True`.\n- **topic_photonic**: Correctly marked as `True`.\n- **components_list**:\n  - **32-channel Si3N4 switching array with 1x32 ports**: Correct.\n  - **Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports**: Correct.\n  - **Thermo-optics phase shifters**: Correct.\n  - **Grating coupler with 1x1 port**: Correct.\n  - **Edge emitters with 1x1 port**: Correct.\n  - **Blazed grating**: Incorrect, as it is not an on-chip component.\n  - **Missing Components**: The list should include the cascaded Si3N4 MZI switches forming a binary tree and possibly the inverse tapers.\n- **circuit_complete**: Incorrect. The description of the interconnections between components is not sufficiently detailed to confirm the circuit's completeness.\n\nIn summary, the YAML file does not fully adhere to the requirements and contains inaccuracies.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725627839.1252894",
    "msecs": "125.0",
    "relativeCreated": "14249.367952346802",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- it should only represent photonic components on the chip, and not off the chip.\n- does it accurately represent the photonic components?\n- is any photonic component missing?\n- this should be only a list of photonic components.\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Off-chip Components Included**: The list includes components that are not strictly on-chip, such as the blazed grating.\n2. **Missing Components**: Some on-chip components mentioned in the article are missing from the list.\n3. **Component Specifications**: The specifications and port configurations are not consistently provided.\n4. **Circuit Completeness**: The circuit completeness is questionable based on the provided information.\n\nHere is a critical evaluation:\n\n- **single_article**: Correctly marked as `True`.\n- **topic_photonic**: Correctly marked as `True`.\n- **components_list**:\n  - **32-channel Si3N4 switching array with 1x32 ports**: Correct.\n  - **Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports**: Correct.\n  - **Thermo-optics phase shifters**: Correct.\n  - **Grating coupler with 1x1 port**: Correct.\n  - **Edge emitters with 1x1 port**: Correct.\n  - **Blazed grating**: Incorrect, as it is not an on-chip component.\n  - **Missing Components**: The list should include the cascaded Si3N4 MZI switches forming a binary tree and possibly the inverse tapers.\n- **circuit_complete**: Incorrect. The description of the interconnections between components is not sufficiently detailed to confirm the circuit's completeness.\n\nIn summary, the YAML file does not fully adhere to the requirements and contains inaccuracies. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with (...) Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725627839.1272852",
    "msecs": "127.0",
    "relativeCreated": "14251.363754272461",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code according to the evaluation output, consider the following feedback and strategies:\n\n1. **Remove Off-chip Components**:\n   - The blazed grating is not an on-chip component and should be removed from the `components_list`. This will ensure that the list strictly represents photonic components on the chip.\n\n2. **Include Missing On-chip Components**:\n   - The evaluation mentions that some on-chip components are missing. Specifically, the cascaded Si3N4 MZI switches forming a binary tree and possibly the inverse tapers should be included. This will make the list more comprehensive and accurate.\n\n3. **Consistent Component Specifications**:\n   - Ensure that all components in the `components_list` have consistent specifications and port configurations. For example, while some components have their port configurations specified (e.g., \"32-channel Si3N4 switching array with 1x32 ports\"), others do not (e.g., \"Thermo-optics phase shifters\"). Adding these details will improve clarity and completeness.\n\n4. **Circuit Completeness**:\n   - The `circuit_complete` boolean is marked as `True`, but the evaluation suggests that the description of the interconnections between components is not sufficiently detailed. To address this, ensure that the YAML file provides enough information to understand and describe how the on-chip components are interconnected. This might involve adding more detailed descriptions or ensuring that all necessary components are listed.\n\n5. **Follow the Provided Template**:\n   - Ensure that the YAML file strictly follows the provided template. This includes maintaining the structure and format as specified in the input prompt.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article and ensuring the circuit completeness is correctly evaluated.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725627839.1292787",
    "msecs": "129.0",
    "relativeCreated": "14253.35717201233",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with (...) Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- it should only represent photonic components on the chip, and not off the chip.\n- does it accurately represent the photonic components?\n- is any photonic component missing?\n- this should be only a list of photonic components.\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Blazed grating\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Off-chip Components Included**: The list includes components that are not strictly on-chip, such as the blazed grating.\n2. **Missing Components**: Some on-chip components mentioned in the article are missing from the list.\n3. **Component Specifications**: The specifications and port configurations are not consistently provided.\n4. **Circuit Completeness**: The circuit completeness is questionable based on the provided information.\n\nHere is a critical evaluation:\n\n- **single_article**: Correctly marked as `True`.\n- **topic_photonic**: Correctly marked as `True`.\n- **components_list**:\n  - **32-channel Si3N4 switching array with 1x32 ports**: Correct.\n  - **Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports**: Correct.\n  - **Thermo-optics phase shifters**: Correct.\n  - **Grating coupler with 1x1 port**: Correct.\n  - **Edge emitters with 1x1 port**: Correct.\n  - **Blazed grating**: Incorrect, as it is not an on-chip component.\n  - **Missing Components**: The list should include the cascaded Si3N4 MZI switches forming a binary tree and possibly the inverse tapers.\n- **circuit_complete**: Incorrect. The description of the interconnections between components is not sufficiently detailed to confirm the circuit's completeness.\n\nIn summary, the YAML file does not fully adhere to the requirements and contains inaccuracies. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code according to the evaluation output, consider the following feedback and strategies:\n\n1. **Remove Off-chip Components**:\n   - The blazed grating is not an on-chip component and should be removed from the `components_list`. This will ensure that the list strictly represents photonic components on the chip.\n\n2. **Include Missing On-chip Components**:\n   - The evaluation mentions that some on-chip components are missing. Specifically, the cascaded Si3N4 MZI switches forming a binary tree and possibly the inverse tapers should be included. This will make the list more comprehensive and accurate.\n\n3. **Consistent Component Specifications**:\n   - Ensure that all components in the `components_list` have consistent specifications and port configurations. For example, while some components have their port configurations specified (e.g., \"32-channel Si3N4 switching array with 1x32 ports\"), others do not (e.g., \"Thermo-optics phase shifters\"). Adding these details will improve clarity and completeness.\n\n4. **Circuit Completeness**:\n   - The `circuit_complete` boolean is marked as `True`, but the evaluation suggests that the description of the interconnections between components is not sufficiently detailed. To address this, ensure that the YAML file provides enough information to understand and describe how the on-chip components are interconnected. This might involve adding more detailed descriptions or ensuring that all necessary components are listed.\n\n5. **Follow the Provided Template**:\n   - Ensure that the YAML file strictly follows the provided template. This includes maintaining the structure and format as specified in the input prompt.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article and ensuring the circuit completeness is correctly evaluated.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725627839.1312735",
    "msecs": "131.0",
    "relativeCreated": "14255.352020263672",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Cascaded Si3N4 MZI switches forming a binary tree\n  - Inverse tapers\ncircuit_complete: False\n```</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725627839.1312735",
    "msecs": "131.0",
    "relativeCreated": "14255.352020263672",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - 32-channel Si3N4 switching array with 1x32 ports\n  - Mach\u2013Zehnder interferometer (MZI) switches with 2x2 ports\n  - Thermo-optics phase shifters\n  - Grating coupler with 1x1 port\n  - Edge emitters with 1x1 port\n  - Cascaded Si3N4 MZI switches forming a binary tree\n  - Inverse tapers\ncircuit_complete: False\n```",
    "message": "TextualGradientDescent updated text"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "69",
    "funcName": "forward",
    "created": "1725884007.5096445",
    "msecs": "509.0",
    "relativeCreated": "256182633.72302055",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:None\nQuery: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nResponse: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 aspherical lens (f = 8.0 mm, NA = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n```",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725884011.4167147",
    "msecs": "416.0",
    "relativeCreated": "256186540.79318047",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 aspherical lens (f = 8.0 mm, NA = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n```\nResponse: The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes components that are not strictly photonic components on the chip (e.g., aspherical lens, aluminum-coated mirror).\n   - Some components are described with detailed specifications that should not be parsed as separate components.\n\n2. **Missing Photonic Components:**\n   - The list does not include the Mach\u2013Zehnder interferometer (MZI) switches, which are crucial on-chip photonic components mentioned in the article.\n\n3. **YAML Template:**\n   - The YAML follows the provided template but includes non-photonic components and off-chip components.\n\n4. **Circuit Completeness:**\n   - The `circuit_complete` boolean is marked as True, but the description of the connections between the components is not clear from the provided list. The interconnections and the role of each component in the circuit are not fully described.\n\n**Concise Feedback:**\n- The components list includes off-chip components and detailed specifications that should not be parsed separately.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is likely incorrect as the interconnections between components are not fully clear.\n\nOverall, the YAML file needs revision to accurately reflect the on-chip photonic components and their interconnections.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725884011.419737",
    "msecs": "419.0",
    "relativeCreated": "256186543.8156128",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 aspherical lens (f = 8.0 mm, NA = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes components that are not strictly photonic components on the chip (e.g., aspherical lens, aluminum-coated mirror).\n   - Some components are described with detailed specifications that should not be parsed as separate components.\n\n2. **Missing Photonic Components:**\n   - The list does not include the Mach\u2013Zehnder interferometer (MZI) switches, which are crucial on-chip photonic components mentioned in the article.\n\n3. **YAML Template:**\n   - The YAML follows the provided template but includes non-photonic components and off-chip components.\n\n4. **Circuit Completeness:**\n   - The `circuit_complete` boolean is marked as True, but the description of the connections between the components is not clear from the provided list. The interconnections and the role of each component in the circuit are not fully described.\n\n**Concise Feedback:**\n- The components list includes off-chip components and detailed specifications that should not be parsed separately.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is likely incorrect as the interconnections between components are not fully clear.\n\nOverall, the YAML file needs revision to accurately reflect the on-chip photonic components and their interconnections. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725884022.3077474",
    "msecs": "307.0",
    "relativeCreated": "256197431.82587624",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code according to the evaluation output, consider the following feedback and strategies:\n\n1. **Remove Off-Chip Components:**\n   - The components list should only include photonic components that are on the chip. Therefore, remove the aspherical lens and the aluminum-coated mirror as they are off-chip components.\n\n2. **Avoid Detailed Specifications:**\n   - Detailed specifications and descriptive modifiers should not be parsed as separate components. For example, the detailed description of the aspherical lens (f = 8.0 mm, NA = 0.5) should be avoided.\n\n3. **Include Missing On-Chip Components:**\n   - The Mach\u2013Zehnder interferometer (MZI) switches are crucial on-chip photonic components mentioned in the article but are missing from the list. Ensure to include them in the components list.\n\n4. **Clarify Circuit Completeness:**\n   - The `circuit_complete` boolean is marked as True, but the interconnections between the components are not clear. Ensure that the list of components and their interconnections are well-described to justify the `circuit_complete` boolean being True.\n\n5. **Follow the Template Strictly:**\n   - Ensure that the YAML strictly follows the provided template and only includes relevant on-chip photonic components without unnecessary details.\n\nBy addressing these points, the YAML code will more accurately reflect the on-chip photonic components and their interconnections, improving the overall evaluation metric.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725884022.3077474",
    "msecs": "307.0",
    "relativeCreated": "256197431.82587624",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 aspherical lens (f = 8.0 mm, NA = 0.5)\n  - a 1x1 45\u00b0 aluminum-coated mirror\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes components that are not strictly photonic components on the chip (e.g., aspherical lens, aluminum-coated mirror).\n   - Some components are described with detailed specifications that should not be parsed as separate components.\n\n2. **Missing Photonic Components:**\n   - The list does not include the Mach\u2013Zehnder interferometer (MZI) switches, which are crucial on-chip photonic components mentioned in the article.\n\n3. **YAML Template:**\n   - The YAML follows the provided template but includes non-photonic components and off-chip components.\n\n4. **Circuit Completeness:**\n   - The `circuit_complete` boolean is marked as True, but the description of the connections between the components is not clear from the provided list. The interconnections and the role of each component in the circuit are not fully described.\n\n**Concise Feedback:**\n- The components list includes off-chip components and detailed specifications that should not be parsed separately.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is likely incorrect as the interconnections between components are not fully clear.\n\nOverall, the YAML file needs revision to accurately reflect the on-chip photonic components and their interconnections. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code according to the evaluation output, consider the following feedback and strategies:\n\n1. **Remove Off-Chip Components:**\n   - The components list should only include photonic components that are on the chip. Therefore, remove the aspherical lens and the aluminum-coated mirror as they are off-chip components.\n\n2. **Avoid Detailed Specifications:**\n   - Detailed specifications and descriptive modifiers should not be parsed as separate components. For example, the detailed description of the aspherical lens (f = 8.0 mm, NA = 0.5) should be avoided.\n\n3. **Include Missing On-Chip Components:**\n   - The Mach\u2013Zehnder interferometer (MZI) switches are crucial on-chip photonic components mentioned in the article but are missing from the list. Ensure to include them in the components list.\n\n4. **Clarify Circuit Completeness:**\n   - The `circuit_complete` boolean is marked as True, but the interconnections between the components are not clear. Ensure that the list of components and their interconnections are well-described to justify the `circuit_complete` boolean being True.\n\n5. **Follow the Template Strictly:**\n   - Ensure that the YAML strictly follows the provided template and only includes relevant on-chip photonic components without unnecessary details.\n\nBy addressing these points, the YAML code will more accurately reflect the on-chip photonic components and their interconnections, improving the overall evaluation metric.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725884030.4612453",
    "msecs": "461.0",
    "relativeCreated": "256205585.32381058",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n```</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725884030.4612453",
    "msecs": "461.0",
    "relativeCreated": "256205585.32381058",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n```",
    "message": "TextualGradientDescent updated text"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725884639.3019693",
    "msecs": "301.0",
    "relativeCreated": "256814426.04780197",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n```\nResponse: The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes a \"1x1 blazed grating,\" which is not an on-chip component.\n   - The \"1x1 Mach\u2013Zehnder interferometer (MZI) switch\" should be part of the \"1x32 Si3N4 switching array\" and not listed separately.\n   - The \"1x1 grating coupler\" is correctly identified as an on-chip component.\n\n2. **Missing Components:**\n   - The edge emitters (etched facet inverse tapers) are not listed.\n   - The thermo-optics phase shifters are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Completeness:**\n   - The circuit is described in enough detail to understand the interconnections between the components, so the `circuit_complete` should be `True`.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs corrections based on the above points.\n\n**Corrected Evaluation:**\n\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```\n\n**Concise Feedback:**\n- Remove off-chip components like the blazed grating.\n- Do not list subcomponents (like MZI switches) separately if they are part of a larger component.\n- Include all relevant on-chip components, such as edge emitters.\n- The circuit completeness should be marked as `True` based on the provided description.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725884639.3019693",
    "msecs": "301.0",
    "relativeCreated": "256814426.04780197",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes a \"1x1 blazed grating,\" which is not an on-chip component.\n   - The \"1x1 Mach\u2013Zehnder interferometer (MZI) switch\" should be part of the \"1x32 Si3N4 switching array\" and not listed separately.\n   - The \"1x1 grating coupler\" is correctly identified as an on-chip component.\n\n2. **Missing Components:**\n   - The edge emitters (etched facet inverse tapers) are not listed.\n   - The thermo-optics phase shifters are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Completeness:**\n   - The circuit is described in enough detail to understand the interconnections between the components, so the `circuit_complete` should be `True`.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs corrections based on the above points.\n\n**Corrected Evaluation:**\n\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```\n\n**Concise Feedback:**\n- Remove off-chip components like the blazed grating.\n- Do not list subcomponents (like MZI switches) separately if they are part of a larger component.\n- Include all relevant on-chip components, such as edge emitters.\n- The circuit completeness should be marked as `True` based on the provided description. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725884643.3458514",
    "msecs": "345.0",
    "relativeCreated": "256818469.92993355",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code based on the evaluation output, consider the following feedback and criticism:\n\n1. **Component List Accuracy:**\n   - **Remove Off-Chip Components:** The \"1x1 blazed grating\" is an off-chip component and should be removed from the list. This will ensure that the list only includes on-chip photonic components.\n   - **Avoid Redundancy:** The \"1x1 Mach\u2013Zehnder interferometer (MZI) switch\" is part of the \"1x32 Si3N4 switching array\" and should not be listed separately. This will prevent redundancy and maintain clarity.\n   - **Include Missing Components:** The edge emitters (etched facet inverse tapers) are on-chip components that are currently missing from the list. Including them will make the components list more comprehensive.\n\n2. **Component Specifications:**\n   - **Avoid Detailed Specifications:** Ensure that detailed specifications and descriptive modifiers of components are not parsed as separate components. For example, the \"thermo-optics phase shifters\" should be mentioned as part of the \"1x32 Si3N4 switching array\" and not listed separately.\n\n3. **Circuit Completeness:**\n   - **Correct Circuit Completeness:** The circuit is described in enough detail to understand the interconnections between the components. Therefore, the `circuit_complete` should be marked as `True` instead of `False`.\n\n4. **YAML Template Adherence:**\n   - **Follow the Template:** Ensure that the YAML follows the provided template accurately. This includes correctly listing the components and marking the circuit completeness appropriately.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725884643.3458514",
    "msecs": "345.0",
    "relativeCreated": "256818469.92993355",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - a 1x1 blazed grating\n  - a 1x1 Mach\u2013Zehnder interferometer (MZI) switch\ncircuit_complete: False\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes a \"1x1 blazed grating,\" which is not an on-chip component.\n   - The \"1x1 Mach\u2013Zehnder interferometer (MZI) switch\" should be part of the \"1x32 Si3N4 switching array\" and not listed separately.\n   - The \"1x1 grating coupler\" is correctly identified as an on-chip component.\n\n2. **Missing Components:**\n   - The edge emitters (etched facet inverse tapers) are not listed.\n   - The thermo-optics phase shifters are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Completeness:**\n   - The circuit is described in enough detail to understand the interconnections between the components, so the `circuit_complete` should be `True`.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs corrections based on the above points.\n\n**Corrected Evaluation:**\n\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```\n\n**Concise Feedback:**\n- Remove off-chip components like the blazed grating.\n- Do not list subcomponents (like MZI switches) separately if they are part of a larger component.\n- Include all relevant on-chip components, such as edge emitters.\n- The circuit completeness should be marked as `True` based on the provided description. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code based on the evaluation output, consider the following feedback and criticism:\n\n1. **Component List Accuracy:**\n   - **Remove Off-Chip Components:** The \"1x1 blazed grating\" is an off-chip component and should be removed from the list. This will ensure that the list only includes on-chip photonic components.\n   - **Avoid Redundancy:** The \"1x1 Mach\u2013Zehnder interferometer (MZI) switch\" is part of the \"1x32 Si3N4 switching array\" and should not be listed separately. This will prevent redundancy and maintain clarity.\n   - **Include Missing Components:** The edge emitters (etched facet inverse tapers) are on-chip components that are currently missing from the list. Including them will make the components list more comprehensive.\n\n2. **Component Specifications:**\n   - **Avoid Detailed Specifications:** Ensure that detailed specifications and descriptive modifiers of components are not parsed as separate components. For example, the \"thermo-optics phase shifters\" should be mentioned as part of the \"1x32 Si3N4 switching array\" and not listed separately.\n\n3. **Circuit Completeness:**\n   - **Correct Circuit Completeness:** The circuit is described in enough detail to understand the interconnections between the components. Therefore, the `circuit_complete` should be marked as `True` instead of `False`.\n\n4. **YAML Template Adherence:**\n   - **Follow the Template:** Ensure that the YAML follows the provided template accurately. This includes correctly listing the components and marking the circuit completeness appropriately.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725884659.5965202",
    "msecs": "596.0",
    "relativeCreated": "256834720.59869766",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```\n</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725884659.5965202",
    "msecs": "596.0",
    "relativeCreated": "256834720.59869766",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```",
    "message": "TextualGradientDescent updated text"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725884678.5305014",
    "msecs": "530.0",
    "relativeCreated": "256853654.57987785",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n```\nResponse: The provided YAML file has some issues and omissions:\n\n1. **Components List:**\n   - The list should only include photonic components on the chip. The \"edge emitters\" are on-chip, but the description should be more concise.\n   - The \"grating coupler\" is correctly included.\n   - The \"Si3N4 switching array\" is correctly included, but the detailed specifications should not be parsed as separate components.\n\n2. **Missing Components:**\n   - The \"Mach\u2013Zehnder interferometer (MZI) switches\" are mentioned in the article but are missing from the list.\n   - \"Thermo-optics phase shifters\" are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Complete:**\n   - The article provides enough information to understand the connection between the components, so the `circuit_complete` boolean is correct.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs refinement in the components list.\n\n**Concise Feedback:**\n- The components list should be refined to avoid detailed specifications and include all relevant on-chip photonic components.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is correct.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725884678.531499",
    "msecs": "531.0",
    "relativeCreated": "256853655.5774212",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has some issues and omissions:\n\n1. **Components List:**\n   - The list should only include photonic components on the chip. The \"edge emitters\" are on-chip, but the description should be more concise.\n   - The \"grating coupler\" is correctly included.\n   - The \"Si3N4 switching array\" is correctly included, but the detailed specifications should not be parsed as separate components.\n\n2. **Missing Components:**\n   - The \"Mach\u2013Zehnder interferometer (MZI) switches\" are mentioned in the article but are missing from the list.\n   - \"Thermo-optics phase shifters\" are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Complete:**\n   - The article provides enough information to understand the connection between the components, so the `circuit_complete` boolean is correct.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs refinement in the components list.\n\n**Concise Feedback:**\n- The components list should be refined to avoid detailed specifications and include all relevant on-chip photonic components.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is correct. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725884684.7904816",
    "msecs": "790.0",
    "relativeCreated": "256859914.56007957",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code according to the evaluation output, consider the following feedback:\n\n1. **Components List Refinement:**\n   - **Avoid Detailed Specifications:** The detailed specifications of the components should not be parsed as separate components. For example, the \"thermo-optics phase shifters\" are part of the Si3N4 switching array and should not be listed separately.\n   - **Conciseness:** The description of the \"edge emitters\" should be more concise. Instead of \"edge emitters (etched facet inverse tapers),\" it could simply be \"edge emitters.\"\n\n2. **Missing Components:**\n   - **Include All Relevant On-Chip Photonic Components:** The \"Mach\u2013Zehnder interferometer (MZI) switches\" are mentioned in the article but are missing from the list. They should be included as they are a crucial part of the on-chip photonic components.\n\n3. **YAML Template Adherence:**\n   - **Ensure Adherence to the Template:** While the YAML follows the provided template, it needs refinement in the components list to ensure it only includes relevant on-chip photonic components without detailed specifications.\n\n4. **Circuit Complete Boolean:**\n   - **Correctness:** The `circuit_complete` boolean is correct as the article provides enough information to understand the connection between the components.\n\n**Specific Feedback for Each Line:**\n\n- **Line 1:** `single_article: True` - This is correct and does not need any changes.\n- **Line 2:** `topic_photonic: True` - This is correct and does not need any changes.\n- **Line 3:** `components_list:` - This is correct, but the items under this list need refinement.\n  - **Line 4:** `- a 1x32 Si3N4 switching array (...) coupler` - Remove detailed specifications and ensure only the component name is listed.\n  - **Line 5:** `- edge emitters (etched facet inverse tapers)` - Simplify to \"edge emitters.\"\n  - **Line 6:** `- a 1x1 grating coupler` - This is correct and does not need any changes.\n  - **Add Missing Component:** Include \"Mach\u2013Zehnder interferometer (MZI) switches\" in the list.\n- **Line 7:** `circuit_complete: True` - This is correct and does not need any changes.\n\nBy addressing these points, the YAML code will better align with the objective function and the evaluation criteria.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725884684.7904816",
    "msecs": "790.0",
    "relativeCreated": "256859914.56007957",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array (...) coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - a 1x32 Si3N4 switching array with thermo-optics phase shifters\n  - a 1x1 grating coupler\n  - edge emitters (etched facet inverse tapers)\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has some issues and omissions:\n\n1. **Components List:**\n   - The list should only include photonic components on the chip. The \"edge emitters\" are on-chip, but the description should be more concise.\n   - The \"grating coupler\" is correctly included.\n   - The \"Si3N4 switching array\" is correctly included, but the detailed specifications should not be parsed as separate components.\n\n2. **Missing Components:**\n   - The \"Mach\u2013Zehnder interferometer (MZI) switches\" are mentioned in the article but are missing from the list.\n   - \"Thermo-optics phase shifters\" are part of the Si3N4 switching array and should not be listed separately.\n\n3. **Circuit Complete:**\n   - The article provides enough information to understand the connection between the components, so the `circuit_complete` boolean is correct.\n\n4. **YAML Template:**\n   - The YAML follows the provided template but needs refinement in the components list.\n\n**Concise Feedback:**\n- The components list should be refined to avoid detailed specifications and include all relevant on-chip photonic components.\n- The Mach\u2013Zehnder interferometer (MZI) switches are missing from the list.\n- The `circuit_complete` boolean is correct. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code according to the evaluation output, consider the following feedback:\n\n1. **Components List Refinement:**\n   - **Avoid Detailed Specifications:** The detailed specifications of the components should not be parsed as separate components. For example, the \"thermo-optics phase shifters\" are part of the Si3N4 switching array and should not be listed separately.\n   - **Conciseness:** The description of the \"edge emitters\" should be more concise. Instead of \"edge emitters (etched facet inverse tapers),\" it could simply be \"edge emitters.\"\n\n2. **Missing Components:**\n   - **Include All Relevant On-Chip Photonic Components:** The \"Mach\u2013Zehnder interferometer (MZI) switches\" are mentioned in the article but are missing from the list. They should be included as they are a crucial part of the on-chip photonic components.\n\n3. **YAML Template Adherence:**\n   - **Ensure Adherence to the Template:** While the YAML follows the provided template, it needs refinement in the components list to ensure it only includes relevant on-chip photonic components without detailed specifications.\n\n4. **Circuit Complete Boolean:**\n   - **Correctness:** The `circuit_complete` boolean is correct as the article provides enough information to understand the connection between the components.\n\n**Specific Feedback for Each Line:**\n\n- **Line 1:** `single_article: True` - This is correct and does not need any changes.\n- **Line 2:** `topic_photonic: True` - This is correct and does not need any changes.\n- **Line 3:** `components_list:` - This is correct, but the items under this list need refinement.\n  - **Line 4:** `- a 1x32 Si3N4 switching array (...) coupler` - Remove detailed specifications and ensure only the component name is listed.\n  - **Line 5:** `- edge emitters (etched facet inverse tapers)` - Simplify to \"edge emitters.\"\n  - **Line 6:** `- a 1x1 grating coupler` - This is correct and does not need any changes.\n  - **Add Missing Component:** Include \"Mach\u2013Zehnder interferometer (MZI) switches\" in the list.\n- **Line 7:** `circuit_complete: True` - This is correct and does not need any changes.\n\nBy addressing these points, the YAML code will better align with the objective function and the evaluation criteria.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725884686.6234584",
    "msecs": "623.0",
    "relativeCreated": "256861747.53689766",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - edge emitters\n  - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n```</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725884686.6234584",
    "msecs": "623.0",
    "relativeCreated": "256861747.53689766",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - edge emitters\n  - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n```",
    "message": "TextualGradientDescent updated text"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725884699.0822027",
    "msecs": "82.0",
    "relativeCreated": "256874206.28118515",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - edge emitters\n  - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n```\nResponse: The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes \"edge emitters\" and \"grating coupler,\" which are not strictly photonic components on the chip but rather interfaces for coupling light in and out of the chip.\n   - The list is missing some key components mentioned in the article, such as \"thermo-optics phase shifters.\"\n\n2. **Circuit Complete:**\n   - The boolean `circuit_complete` is marked as `True`, but the description of the connections between components is not clear enough to confirm this. The article does not provide sufficient detail on how all components are interconnected.\n\n3. **Template Adherence:**\n   - The YAML file follows the provided template but does not accurately reflect the components and their interconnections as described in the article.\n\n### Corrected Evaluation:\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```\n\n### Concise Feedback:\n- Remove \"edge emitters\" and \"grating coupler\" from the components list as they are not on-chip photonic components.\n- Add \"thermo-optics phase shifters\" to the components list.\n- The `circuit_complete` boolean should be `False` due to insufficient information on the interconnections between components.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725884699.0845308",
    "msecs": "84.0",
    "relativeCreated": "256874208.60934258",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - edge emitters\n  - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes \"edge emitters\" and \"grating coupler,\" which are not strictly photonic components on the chip but rather interfaces for coupling light in and out of the chip.\n   - The list is missing some key components mentioned in the article, such as \"thermo-optics phase shifters.\"\n\n2. **Circuit Complete:**\n   - The boolean `circuit_complete` is marked as `True`, but the description of the connections between components is not clear enough to confirm this. The article does not provide sufficient detail on how all components are interconnected.\n\n3. **Template Adherence:**\n   - The YAML file follows the provided template but does not accurately reflect the components and their interconnections as described in the article.\n\n### Corrected Evaluation:\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```\n\n### Concise Feedback:\n- Remove \"edge emitters\" and \"grating coupler\" from the components list as they are not on-chip photonic components.\n- Add \"thermo-optics phase shifters\" to the components list.\n- The `circuit_complete` boolean should be `False` due to insufficient information on the interconnections between components. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - (...) - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725884704.3130043",
    "msecs": "313.0",
    "relativeCreated": "256879437.0827675",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code according to the evaluation output, consider the following feedback and criticism:\n\n1. **Component List Accuracy:**\n   - **Remove Non-On-Chip Components:** The components list includes \"edge emitters\" and \"grating coupler,\" which are interfaces for coupling light in and out of the chip, not strictly on-chip photonic components. Removing these will ensure the list accurately represents only on-chip components.\n   - **Add Missing Components:** The list is missing \"thermo-optics phase shifters,\" which are crucial on-chip components mentioned in the article. Including this will make the list more comprehensive and accurate.\n\n2. **Circuit Completeness:**\n   - **Interconnection Clarity:** The boolean `circuit_complete` is marked as `True`, but the article does not provide sufficient detail on how all components are interconnected. Marking this as `False` would be more accurate given the lack of detailed interconnection information.\n\n3. **Template Adherence:**\n   - **Component Specifications:** Ensure that the components are listed without detailed specifications or descriptive modifiers parsed as separate components. For example, \"thermo-optics phase shifters\" should be listed without additional specifications.\n\n### Specific Feedback for Improvement:\n- **Remove \"edge emitters\" and \"grating coupler\"** from the components list to adhere to the requirement of listing only on-chip photonic components.\n- **Add \"thermo-optics phase shifters\"** to the components list to include all relevant on-chip components mentioned in the article.\n- **Change `circuit_complete` to `False`** due to the insufficient description of the interconnections between components in the article.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article and correctly evaluating the completeness of the circuit.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725884704.3140118",
    "msecs": "314.0",
    "relativeCreated": "256879438.0903244",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - (...) - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - edge emitters\n  - grating coupler\n  - Mach\u2013Zehnder interferometer (MZI) switches\ncircuit_complete: True\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List:**\n   - The list includes \"edge emitters\" and \"grating coupler,\" which are not strictly photonic components on the chip but rather interfaces for coupling light in and out of the chip.\n   - The list is missing some key components mentioned in the article, such as \"thermo-optics phase shifters.\"\n\n2. **Circuit Complete:**\n   - The boolean `circuit_complete` is marked as `True`, but the description of the connections between components is not clear enough to confirm this. The article does not provide sufficient detail on how all components are interconnected.\n\n3. **Template Adherence:**\n   - The YAML file follows the provided template but does not accurately reflect the components and their interconnections as described in the article.\n\n### Corrected Evaluation:\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```\n\n### Concise Feedback:\n- Remove \"edge emitters\" and \"grating coupler\" from the components list as they are not on-chip photonic components.\n- Add \"thermo-optics phase shifters\" to the components list.\n- The `circuit_complete` boolean should be `False` due to insufficient information on the interconnections between components. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code according to the evaluation output, consider the following feedback and criticism:\n\n1. **Component List Accuracy:**\n   - **Remove Non-On-Chip Components:** The components list includes \"edge emitters\" and \"grating coupler,\" which are interfaces for coupling light in and out of the chip, not strictly on-chip photonic components. Removing these will ensure the list accurately represents only on-chip components.\n   - **Add Missing Components:** The list is missing \"thermo-optics phase shifters,\" which are crucial on-chip components mentioned in the article. Including this will make the list more comprehensive and accurate.\n\n2. **Circuit Completeness:**\n   - **Interconnection Clarity:** The boolean `circuit_complete` is marked as `True`, but the article does not provide sufficient detail on how all components are interconnected. Marking this as `False` would be more accurate given the lack of detailed interconnection information.\n\n3. **Template Adherence:**\n   - **Component Specifications:** Ensure that the components are listed without detailed specifications or descriptive modifiers parsed as separate components. For example, \"thermo-optics phase shifters\" should be listed without additional specifications.\n\n### Specific Feedback for Improvement:\n- **Remove \"edge emitters\" and \"grating coupler\"** from the components list to adhere to the requirement of listing only on-chip photonic components.\n- **Add \"thermo-optics phase shifters\"** to the components list to include all relevant on-chip components mentioned in the article.\n- **Change `circuit_complete` to `False`** due to the insufficient description of the interconnections between components in the article.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article and correctly evaluating the completeness of the circuit.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725884706.0197282",
    "msecs": "19.0",
    "relativeCreated": "256881143.80669594",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```\n</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725884706.0197282",
    "msecs": "19.0",
    "relativeCreated": "256881143.80669594",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```",
    "message": "TextualGradientDescent updated text"
}
{
    "name": "textgrad",
    "msg": "LLMCall function forward",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "285",
    "funcName": "forward",
    "created": "1725884713.9447954",
    "msecs": "944.0",
    "relativeCreated": "256889068.8738823",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "text": "System:You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback.\nQuery: Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n```\nResponse: The provided YAML file has several issues:\n\n1. **Components List**:\n   - The list includes \"thermo-optics phase shifters,\" which are not standalone photonic components but rather part of the Mach\u2013Zehnder interferometer (MZI) switches.\n   - The \"Si3N4 switching array\" and \"Mach\u2013Zehnder interferometer (MZI) switches\" are correctly identified, but the list is incomplete.\n\n2. **Missing Components**:\n   - The \"grating coupler\" and \"edge emitters\" are also on-chip photonic components mentioned in the article but are missing from the list.\n\n3. **Circuit Complete**:\n   - The `circuit_complete` boolean is marked as `False`, which is correct. The article does not provide enough detailed information to fully understand and describe the interconnections between the components on the chip.\n\n4. **YAML Template**:\n   - The YAML follows the provided template correctly.\n\n**Concise Feedback**:\n- The components list should include \"grating coupler\" and \"edge emitters.\"\n- \"Thermo-optics phase shifters\" should not be listed as a separate component.\n- The `circuit_complete` boolean is correctly set to `False`.",
    "message": "LLMCall function forward"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm prompt",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "209",
    "funcName": "_backward_through_llm_base",
    "created": "1725884713.9502628",
    "msecs": "950.0",
    "relativeCreated": "256889074.34129715",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "You will give feedback to a variable with the following role: <ROLE> The yaml code to optimize </ROLE>. Here is an evaluation of the variable using a language model:\n\n<LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List**:\n   - The list includes \"thermo-optics phase shifters,\" which are not standalone photonic components but rather part of the Mach\u2013Zehnder interferometer (MZI) switches.\n   - The \"Si3N4 switching array\" and \"Mach\u2013Zehnder interferometer (MZI) switches\" are correctly identified, but the list is incomplete.\n\n2. **Missing Components**:\n   - The \"grating coupler\" and \"edge emitters\" are also on-chip photonic components mentioned in the article but are missing from the list.\n\n3. **Circuit Complete**:\n   - The `circuit_complete` boolean is marked as `False`, which is correct. The article does not provide enough detailed information to fully understand and describe the interconnections between the components on the chip.\n\n4. **YAML Template**:\n   - The YAML follows the provided template correctly.\n\n**Concise Feedback**:\n- The components list should include \"grating coupler\" and \"edge emitters.\"\n- \"Thermo-optics phase shifters\" should not be listed as a separate component.\n- The `circuit_complete` boolean is correctly set to `False`. </LM_OUTPUT>\n\n<OBJECTIVE_FUNCTION>Your goal is to give feedback and criticism to the variable given the above evaluation output. Our only goal is to improve the above metric, and nothing else. </OBJECTIVE_FUNCTION>\n\nWe are interested in giving feedback to the The yaml code to optimize for this conversation. Specifically, give feedback to the following span of text:\n\n<VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n``` </VARIABLE>\n\nGiven the above history, describe how the The yaml code to optimize could be improved to improve the <OBJECTIVE_FUNCTION>. Be very creative, critical, and intelligent.\n\n",
    "message": "_backward_through_llm prompt"
}
{
    "name": "textgrad",
    "msg": "_backward_through_llm gradient",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\autograd\\llm_ops.py",
    "filename": "llm_ops.py",
    "module": "llm_ops",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "211",
    "funcName": "_backward_through_llm_base",
    "created": "1725884718.2778866",
    "msecs": "277.0",
    "relativeCreated": "256893401.9651413",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "_backward_through_llm": "To improve the YAML code based on the evaluation output, consider the following feedback and criticism:\n\n1. **Components List Accuracy**:\n   - **Remove Non-Standalone Components**: The \"thermo-optics phase shifters\" should not be listed as a separate component because they are part of the Mach\u2013Zehnder interferometer (MZI) switches. Removing this entry will make the list more accurate and aligned with the objective of listing only standalone photonic components.\n   - **Add Missing Components**: The \"grating coupler\" and \"edge emitters\" are on-chip photonic components mentioned in the article but are missing from the list. Including these components will ensure the list is comprehensive and complete.\n\n2. **Component Specifications**:\n   - **Avoid Detailed Specifications**: Ensure that detailed specifications and descriptive modifiers of components are not parsed as separate components. For example, if a component is described with specific attributes (e.g., \"Si3N4 switching array with 32 channels\"), only the component name should be listed without the detailed attributes.\n\n3. **Circuit Completeness**:\n   - **Boolean Accuracy**: The `circuit_complete` boolean is correctly set to `False`, indicating that the article does not provide enough detailed information to fully understand and describe the interconnections between the components on the chip. This is accurate and should be maintained unless more detailed interconnection information is provided in the article.\n\n4. **YAML Template Compliance**:\n   - **Template Adherence**: The YAML follows the provided template correctly, which is good. Ensure that any modifications still adhere to the template structure to maintain consistency and readability.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article.",
    "message": "_backward_through_llm gradient"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent prompt for update",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "165",
    "funcName": "_update_prompt",
    "created": "1725884718.2799268",
    "msecs": "279.0",
    "relativeCreated": "256893404.00528908",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "prompt": "Here is the role of the variable you will improve: <ROLE>The yaml code to optimize</ROLE>.\n\nThe variable is the text within the following span: <VARIABLE> ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n``` </VARIABLE>\n\nHere is the context and feedback we got for the variable:\n\n<CONTEXT>Here is a conversation:\n\n<CONVERSATION><LM_SYSTEM_PROMPT> You are a smart language model expert in photonic integrated circuits.\nThis YAML file should be an accurate summary of the photonic components presented in the input article.\nEvaluate components_list in YAML based on:\n- this should be only a list of photonic components.\n- it should only represent photonic components on the chip, and not off the chip.\n- detail specifications and descriptive modifiers of a component should not be parsed as separate components.\n- are any photonic components missing?\n- does YAML follow the provided template?\nAlso evaluate circuit_complete boolean:\n- is it correct? can you understand and describe the connection between items in components_list?\nYou do not propose a new YAML file, only evaluate the existing YAML file critically and give very concise feedback. </LM_SYSTEM_PROMPT>\n\n<LM_INPUT> Problem: Is this a single academic article, and not a dissertation or collection of papers (single_article)?\nIs the main topic of this article about integrated photonic circuits (topic_photonic)?\nIf yes, find the photonic components that are used on the chip. \nReturn a concise list of these photonic components, if any (components_list).\nFor each component, try to extract: brief spec, \nand the number of optical input (N) and output (M) ports denoted by NxM, e.g. 1x2.\nDo not parse specifications and descriptive modifiers of a component as separate components.\nFinally, is there an enough information to understand and desrcibe how the on-chip components\nare interconnected to form the photonic circuit (circuit_complete)?\nAnswer in YAML following the template:\nsingle_article: True/False\ntopic_photonic: True/False\ncomponents_list:\n  - a 1x1 modulator with MHz speed\n  - a 1x2 component ...\n  ...\ncircuit_complete: True/False\n\n\nINPUT ARTICLE:\nA Hybrid Solid-State Beam Scanner for FMCW \nLiDAR Application \nZhaoyang Zhang,1 Xufeng Du,2 Zhiyan Zhou,1 Qikai Huang,1 Qiang Zhang,3 \nTingge Dai,1 Hui Yu,1 Yuehai Wang,1 and Jianyi Yang 1, * \n1 College of Information Science and Electronic Engineering, Zhejiang University, Hangzhou 310027, China \n2 Guofeng Electronics, Manzhouli 021400, China \n3 Zhejiang Lab, Hangzhou 311121, China \nAuthor e-mail address: yangjy@zju.edu.cn \nAbstract: We demonstrate a hybrid solid-state beam scanner based on a Si3N4 switching array. \nTwo-dimensional beam steering with a 14.3\u00b0\u00d79.9\u00b0\n field of view and FMCW ranging operation at a \ndistance of 7.4 m are achieved.   \n1. Introduction\nDue to the huge demand brought by the promotion of autonomous driving and robotics, light detection and ranging \n(LiDAR) technology has attracted extensive attention in the past decade. To date, various types of on-chip beam \nscanners have been demonstrated to replace mechanical scanners [1\u20134]. Optical phased arrays on silicon-on-\ninsulator (SOI) provide an attractive method to perform non-mechanical beam steering [5\u20137]. However, it still \nsuffers from the extensive and complex active phase shifting, in order to calibrate the stochastic phase errors in the \narrayed waveguides [8]. Focal plane switching arrays based on silicon photonics platform and MEMS platform \nemerge as an alternative approach due to the advantages of compact size, low power consumption and simple \ncontrol [9,10]. Among them, beam scanners based on Mach\u2013Zehnder interferometer (MZI) abandon the \nmechanical moving parts entirely. In addition, ultra high-speed and low-loss optical switches can be obtained by \nintegrating novel materials with high Pockels coefficients [11,12]. In this work, we demonstrate a hybrid solid-\nstate beam scanner based on a Si3N4 switching array and a blazed grating. The output beam is steered across the \n14.3\u00b0 \u00d7 9.9\u00b0 field of view (FOV) with beam divergence less than 0.1\u00b0. In addition, a ranging distance of 7.4 m is \nachieved by combining the proposed beam scanner and the frequency-modulated continuous-wave (FMCW) \ntechnology. \nFig. 1.  (a) Microscope photograph of the fabricated Si3N4 switching array chip. (b) Schematic of the hybrid \nsolid-state beam scanner. (c) Intensity cuts in \u03b8-direction of 32 separate beams at different angles. (d) \nMeasured beam scanning result and the theoretical value of the transmission grating in \uf06a-direction versus the \nworking wavelength. (e) Two-dimensional beam scanning observed on the screen. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\u00a9 2023 The Author(s)\n \nFig. 2. (a) Experimental setup of the FMCW ranging operation using the beam scanner. (b) The spectrum of \nthe PLL based FMCW synthesizer. (c) and (d) are the time domain and frequency domain signals \ncorresponding to the target of 7.4 m, respectively. (e) Measured beat frequency versus the ranging distance. \n \n2.  Device Fabrication and Beam Steering \nAn optical micrograph of the 32-channel Si3N4 switching array with an overall footprint of 2.2 mm \u00d7 10 mm is \nshown in Fig. 1 (a). The device is fabricated on an 8-inch wafer with a 400 nm-thick PECVD Si3N4 layer by \nAdvanced Micro Foundry. Light is coupled into the chip from a grating coupler. Next, a five-layer binary tree \nformed by cascaded Si3N4 MZI switches routes the incident beam to 32 channels. Thermo-optics phase shifters are \nused to control the on-chip light path. The edge emitters are etched facet inverse tapers with a tip width of 300 nm. \nThe pitch between two adjacent edge emitters is 65 \u00b5m. The schematic of the solid-state beam scanner is depicted in \nFig. 1 (b). Beam emitted from the chip is collimated by an aspherical lens (f = 8.0 mm, NA = 0.5). Then the output \nbeam is aligned to a lithographically patterned diffraction transmission grating (966.18 lines/mm) at the Littrow \nangle. Next, a 45\u00b0 aluminum-coated mirror fixed in the 3D printed mount is used to deflect the beam direction. To \ncharacterize the beam steering, we set a screen in front of the beam scanner at a distance of 2.1 m. An infrared \ncamera records the beam profile on the screen. As shown in Fig. 1 (c), the main beam is steered across a range of \n14.3\u00b0 in \u03b8-direction by toggling the optical switches. Though phase errors still exist in the Si3N4 photonic integrated \ncircuit, the initial phase calibration takes only a few minutes. This problem can be further solved by the real-time \nfeedback control with on-chip power monitors. The angular step between two adjacent points is 0.46\u00b0, which can be \nmuch decreased by enlarging the array size in our future work. A beam steering range of 9.9\u00b0 in the \uf06a-direction is \nachieved by tuning the wavelength from 1500 nm to 1610 nm, as shown in Fig. 1 (d). The steering efficiency thus is \naround 0.09\u00b0/ nm, which is higher than the on-chip Si3N4 grating antenna in [13]. The demand of wideband tunable \nlaser with narrow linewidth still hinders further cost reduction. However, it can be solved by using the massive \ncoherent laser based on the microcomb in [14]. Finally, two-dimensional beam steering is achieved by wavelength \ntuning and switching of channels, as shown in Fig 1. (e). The beam divergency in both directions is measured to be \n< 0.1\u00b0. \n \n3.  FMCW Ranging Operation \nThe setup for FMCW ranging operation is shown in Fig. 2 (a). The FMCW RF signal is provided by the frequency \nsynthesizer based on a fractional-N phased-locked loop (PLL). It generates sawtooth chirps with a period of 1 ms. \nThe chirp range is approximately from 6 GHz to 9 GHz, as shown in Fig. 2 (b). Then the chirped laser light is \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\ngenerated by using an optical single sideband modulator. A 3dB optical power splitter distributes the output of the \nmodulator into two components: one goes straight to the balance detector as the local reference light, and the \nremaining is amplified by an Erbium-doped fiber amplifier (EDFA) as the input of the Si3N4 chip. The backscattered \nlight from the target is collected by a fiber collimator and routed to the balanced detector. An oscillograph records \nthe output of the balanced photodetector and performs real-time FFT analysis. Representative beat signals in the \ntime domain and the frequency domain of a target at 7.4m away are depicted in Fig. 2 (c) and Fig. 2 (d), respectively. \nFigure 2 (e) shows the measured beat frequency when the target distance varies from 0.7 m to 7.4 m. A strong linear \ncorrelation between the beat frequency and the target distance is observed. The slope of the linear fit is around 20.54 \nkHz/m, which is in line with the chirp slope of \u223c 3 MHz/\u00b5s. It is worth noting that the intercept at the frequency \naxis comes from the fixed fiber length difference. The chirp slope can be further increased by using FMCW PLL ICs \n[15], in order to speed up the ranging operation. \n \n4.  Conclusion \nIn conclusion, we demonstrate a hybrid solid-state beam scanner based on the Si3N4 switching array. The \ncombination of the edge emitter and the external transmission grating improves the beam quality as well as the \noptical emission efficiency. Besides, no prism lens with special designs and mechanical moving components exist in \nthe easily implemented beam scanner. Two-dimensional beam steering with a FOV of 14.3\u00b0 \u00d7 9.9\u00b0 is achieved by \nswitch toggling and wavelength tuning. Furthermore, FMCW ranging operation up to 7.4 m is also presented by \nusing the Si3N4 switching array as the transmitter. Our measurements indicate that the proposed hybrid solid-state \nbeam scanner is a scalable and flexible solution for the next-generation FMCW LiDAR. \n \n5.  References \n \n[1] D. N. Hutchison, J. Sun, J. K. Doylend, R. Kumar, J. Heck, W. Kim, C. T. Phare, A. Feshali, and H. Rong, \u201cHigh-resolution aliasing-free \noptical beam steering\u201d, Optica 3, 887\u2013890 (2016). \n[2] H. Ito, Y. Kusunoki, J. Maeda, D. Akiyama, N. Kodama, H. Abe, R. Tetsuya, and T. Baba, \u201cWide beam steering by slow-light waveguide \ngratings and a prism lens\u201d, Optica 7, 47\u201352 (2020). \n[3] J. Park, B. G. Jeong, S. I. Kim, D. Lee, J. Kim, C. Shin, C. B. Lee, T. Otsuka, J. Kyoung, S. Kim, K.-Y. Yang, Y.-Y. Park, J. Lee, I. Hwang, J. \nJang, S. H. Song, M. L. Brongersma, K. Ha, S.-W. Hwang, H. Choo, and B. L. Choi, \u201cAll-solid-state spatial light modulator with independent \nphase and amplitude control for three-dimensional LiDAR applications\u201d, Nat. Nanotechnol. 16, 69\u201376 (2021). \n[4] R. Li, S. Hu, X. Gu, and F. Koyama, \u201cSolid-state slow-light beam scanner with ultra-large field of view and high resolution\u201d, J. Light. \nTechnol. 40, 1855\u20131861 (2022). \n[5] C. V. Poulton, M. J. Byrd, P. Russo, E. Timurdogan, M. Khandaker, D. Vermeulen, and M. R. Watts, \u201cLong-range LiDAR and free-space \ndata communication with high-performance optical phased arrays\u201d, IEEE J. Sel. Top. Quantum Electron. 25, 1\u20138 (2019). \n[6] Y. Li, B. Chen, Q. Na, Q. Xie, M. Tao, L. Zhang, Z. Zhi, Y. Li, X. Liu, X. Luo, G. Lo, F. Gao, X. Li, and J. Song, \u201cWide-steering-angle high-\nresolution optical phased array\u201d, Photon. Res. 9, 2511\u20132518 (2021). \n[7] W. Xu, Y. Guo, X. Li, C. Liu, L. Lu, J. Chen, and L. Zhou, \u201cFully integrated solid-state lidar transmitter on a multi-layer silicon-nitride-on-\nsilicon photonic platform\u201d, J. Light. Technol. pp. 1\u201310 (2022). \n[8] T. Komljenovic and P. Pintus, \u201cOn-chip calibration and control of optical phased arrays\u201d, Opt. Express 26, 3199\u20133210 (2018). \n[9] X. Zhang, K. Kwon, J. Henriksson, J. Luo, and M. C. Wu, \u201cA large-scale microelectromechanical-systems-based silicon photonics LiDAR\u201d, \nNature 603, 253\u2013258 (2022). \n[10] C. Rogers, A. Y. Piggott, D. J. Thomson, R. F. Wiser, I. E. Opris, S. A. Fortune, A. J. Compston, A. Gondarenko, F. Meng, X. Chen, G. T. \nReed, and R. Nicolaescu, \u201cA universal 3D imaging sensor on a silicon photonics platform\u201d, Nature 590, 256\u2013261 (2021). \n[11] F. Eltes, C. Mai, D. Caimi, M. Kroh, Y. Popoff, G. Winzer, D. Petousi, S. Lischke, J. E. Ortmann, L. Czornomaz, L. Zimmermann, J. Fom-\npeyrine, and S. Abel, \u201cA BaTiO3-based electro-optic Pockels modulator monolithically integrated on an advanced silicon photonics platform\u201d, J. \nLight. Technol. 37, 1456\u20131462 (2019). \n[12] K. Alexander, J. P. George, J. Verbist, K. Neyts, B. Kuyken, D. Van Thourhout, and J. Beeckman, \u201cNanophotonic Pockels modulators on a \nsilicon nitride platform\u201d, Nat. Commun. 9, 3444 (2018). \n[13] C. Li, X. Cao, K. Wu, G. Qiu, M. Cai, G. Zhang, X. Li, and J. Chen, \u201cBlind zone-suppressed hybrid beam steering for solid-state LiDAR\u201d, \nPhoton. Res. 9, 1871\u20131880 (2021). \n[14] J. Riemensberger, A. Lukashchuk, M. Karpov, W. Weng, E. Lucas, J. Liu, and T. J. Kippenberg, \u201cMassively parallel coherent laser ranging \nusing a soliton microcomb\u201d, Nature 581, 164\u2013170 (2020). \n[15] H. Shanan, D. Dalton, V. Chillara, and P. Dato, \u201cA 9-to-12GHz coupled-RTWO FMCW ADPLL with 97fs rms jitter, -120dBc/Hz PN at \n1MHz offset, and with retrace time of 12.5 ns and 2 \u03bcs chirp settling time\u201d, in 2022 IEEE International Solid- State Circuits Conference (ISSCC), \nvol. 65 (2022), pp. 146\u2013148. \nM3F.1\nOFC 2023 \u00a9 Optica Publishing Group 2023\n\n\nCurrent YAML code: ```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - thermo-optics phase shifters\ncircuit_complete: False\n``` </LM_INPUT>\n\n<LM_OUTPUT> The provided YAML file has several issues:\n\n1. **Components List**:\n   - The list includes \"thermo-optics phase shifters,\" which are not standalone photonic components but rather part of the Mach\u2013Zehnder interferometer (MZI) switches.\n   - The \"Si3N4 switching array\" and \"Mach\u2013Zehnder interferometer (MZI) switches\" are correctly identified, but the list is incomplete.\n\n2. **Missing Components**:\n   - The \"grating coupler\" and \"edge emitters\" are also on-chip photonic components mentioned in the article but are missing from the list.\n\n3. **Circuit Complete**:\n   - The `circuit_complete` boolean is marked as `False`, which is correct. The article does not provide enough detailed information to fully understand and describe the interconnections between the components on the chip.\n\n4. **YAML Template**:\n   - The YAML follows the provided template correctly.\n\n**Concise Feedback**:\n- The components list should include \"grating coupler\" and \"edge emitters.\"\n- \"Thermo-optics phase shifters\" should not be listed as a separate component.\n- The `circuit_complete` boolean is correctly set to `False`. </LM_OUTPUT>\n\n</CONVERSATION>\n\nThis conversation is potentially part of a larger system. The output is used as evaluation of the The yaml code to optimize\n\nHere is the feedback we got for The yaml code to optimize in the conversation:\n\n<FEEDBACK>To improve the YAML code based on the evaluation output, consider the following feedback and criticism:\n\n1. **Components List Accuracy**:\n   - **Remove Non-Standalone Components**: The \"thermo-optics phase shifters\" should not be listed as a separate component because they are part of the Mach\u2013Zehnder interferometer (MZI) switches. Removing this entry will make the list more accurate and aligned with the objective of listing only standalone photonic components.\n   - **Add Missing Components**: The \"grating coupler\" and \"edge emitters\" are on-chip photonic components mentioned in the article but are missing from the list. Including these components will ensure the list is comprehensive and complete.\n\n2. **Component Specifications**:\n   - **Avoid Detailed Specifications**: Ensure that detailed specifications and descriptive modifiers of components are not parsed as separate components. For example, if a component is described with specific attributes (e.g., \"Si3N4 switching array with 32 channels\"), only the component name should be listed without the detailed attributes.\n\n3. **Circuit Completeness**:\n   - **Boolean Accuracy**: The `circuit_complete` boolean is correctly set to `False`, indicating that the article does not provide enough detailed information to fully understand and describe the interconnections between the components on the chip. This is accurate and should be maintained unless more detailed interconnection information is provided in the article.\n\n4. **YAML Template Compliance**:\n   - **Template Adherence**: The YAML follows the provided template correctly, which is good. Ensure that any modifications still adhere to the template structure to maintain consistency and readability.\n\nBy addressing these points, the YAML code will better meet the objective of accurately summarizing the photonic components presented in the input article.</FEEDBACK>\n\n</CONTEXT>\n\nImprove the variable (The yaml code to optimize) using the feedback provided in <FEEDBACK> tags.\nSend the improved variable in the following format:\n\n<IMPROVED_VARIABLE>{the improved variable}</IMPROVED_VARIABLE>\n\nSend ONLY the improved variable between the <IMPROVED_VARIABLE> tags, and nothing else.",
    "message": "TextualGradientDescent prompt for update"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent optimizer response",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "179",
    "funcName": "step",
    "created": "1725884720.5504181",
    "msecs": "550.0",
    "relativeCreated": "256895674.4966507",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "optimizer.response": "<IMPROVED_VARIABLE>\n```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - grating coupler\n  - edge emitters\ncircuit_complete: False\n```\n</IMPROVED_VARIABLE>",
    "message": "TextualGradientDescent optimizer response"
}
{
    "name": "textgrad",
    "msg": "TextualGradientDescent updated text",
    "args": "()",
    "levelname": "INFO",
    "levelno": "20",
    "pathname": "c:\\Users\\vansari\\Documents\\PhotonicAI\\PhotonEnv\\Lib\\site-packages\\textgrad\\optimizer\\optimizer.py",
    "filename": "optimizer.py",
    "module": "optimizer",
    "exc_info": "None",
    "exc_text": "None",
    "stack_info": "None",
    "lineno": "187",
    "funcName": "step",
    "created": "1725884720.5504181",
    "msecs": "550.0",
    "relativeCreated": "256895674.4966507",
    "thread": "13528",
    "threadName": "MainThread",
    "processName": "MainProcess",
    "process": "14264",
    "parameter.value": "```yaml\nsingle_article: True\ntopic_photonic: True\ncomponents_list:\n  - Si3N4 switching array\n  - Mach\u2013Zehnder interferometer (MZI) switches\n  - grating coupler\n  - edge emitters\ncircuit_complete: False\n```",
    "message": "TextualGradientDescent updated text"
}
